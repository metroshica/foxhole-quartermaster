# Kargo Helm chart values
# Chart: oci://ghcr.io/akuity/kargo-charts/kargo
#
# Install/upgrade:
#   helm upgrade --install kargo oci://ghcr.io/akuity/kargo-charts/kargo \
#     --namespace kargo --create-namespace \
#     -f k8s/infra/kargo-values.yaml

api:
  host: kargo.foxhole-quartermaster.com
  adminAccount:
    enabled: true
    # Set passwordHash and token signing key at install time via --set:
    #   --set api.adminAccount.passwordHash="<bcrypt hash>"
    #   --set api.adminAccount.tokenSigningKey="<key>"
    # Generate hash: python3 -c "import bcrypt; print(bcrypt.hashpw(b'<password>', bcrypt.gensalt(10)).decode())"
  ingress:
    enabled: true
    ingressClassName: nginx
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt
      external-dns.alpha.kubernetes.io/hostname: kargo.foxhole-quartermaster.com
      external-dns.alpha.kubernetes.io/target: "192.168.1.51"
      nginx.ingress.kubernetes.io/backend-protocol: "HTTPS"
    tls:
      enabled: true
      selfSignedCert: false
